
> x402-mcp-server@1.0.0 test:smoke
> tsx test/smoke-test-sepolia.ts

ğŸ§ª ERC-8004 Sepolia å†’çƒŸæµ‹è¯•

=============================================================

ğŸ”‘ ä½¿ç”¨è´¦æˆ·: 0xF8ce6Ae465d14dc8Be9C249D4872D0b60B083C63

------------------------------------------------------------
æµ‹è¯• 1: æ£€æŸ¥åˆçº¦éƒ¨ç½²
------------------------------------------------------------
âœ… IdentityRegistry åˆçº¦å­˜åœ¨
âœ… ReputationRegistry åˆçº¦å­˜åœ¨

------------------------------------------------------------
æµ‹è¯• 2: æ£€æŸ¥è´¦æˆ·ä½™é¢
------------------------------------------------------------
ğŸ’° ä½™é¢: 0.0000 ETH
âš ï¸  ä½™é¢è¾ƒä½ï¼Œå»ºè®®è‡³å°‘ 0.01 ETH
   è·å–æµ‹è¯• ETH: https://sepoliafaucet.com/ æˆ– https://faucet.quicknode.com/ethereum/sepolia

------------------------------------------------------------
æµ‹è¯• 3: è¯»å–åˆçº¦çŠ¶æ€
------------------------------------------------------------

âš ï¸  è­¦å‘Š: éœ€è¦çœŸå®çš„ ABI æ‰èƒ½è¿›è¡Œæ­¤æµ‹è¯•
   1. å…‹éš†å®˜æ–¹ä»“åº“: git clone https://github.com/erc-8004/erc-8004-contracts.git
   2. å¤åˆ¶ ABI: cp erc-8004-contracts/abis/*.json src/erc8004/abis/
   3. åœ¨æœ¬æ–‡ä»¶ä¸­å–æ¶ˆ import è¯­å¥çš„æ³¨é‡Š
   4. é‡æ–°è¿è¡Œæ­¤è„šæœ¬

âŒ è¯»å–å¤±è´¥: Function "totalSupply" not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.

Docs: https://viem.sh/docs/contract/encodeFunctionData
Version: viem@2.44.4
   å¯èƒ½åŸå› :
   - å‡½æ•°åä¸å¯¹ï¼ˆæ£€æŸ¥ ABI ä¸­çš„å®é™…å‡½æ•°åï¼‰
   - ABI æ ¼å¼ä¸å¯¹

------------------------------------------------------------
æµ‹è¯• 4: æ¨¡æ‹Ÿ Agent æ³¨å†Œ
------------------------------------------------------------
âœ… æ¨¡æ‹Ÿæ³¨å†ŒæˆåŠŸï¼ˆæœªå®é™…å‘é€äº¤æ˜“ï¼‰
   å‡½æ•°å: register
   å‚æ•°: agentURI, []

ğŸ’¡ å¦‚æœè¦å®é™…æ³¨å†Œï¼Œè¿è¡Œ:
   const hash = await walletClient.writeContract(request);
   const receipt = await publicClient.waitForTransactionReceipt({ hash });

============================================================
ğŸ æµ‹è¯•å®Œæˆ
============================================================

ğŸ“‹ ä¸‹ä¸€æ­¥:
   1. å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œå¯¹ç…§å®˜æ–¹ ABI é€é¡¹æ’æŸ¥
   2. å®é™…æ³¨å†Œä¸€ä¸ª agent å¹¶è®°å½• agentId
   3. æµ‹è¯• ReputationRegistry çš„åé¦ˆåŠŸèƒ½
   4. æµ‹è¯• ValidationRegistryï¼ˆå¦‚æœéœ€è¦ï¼‰
   5. é›†æˆåˆ° API å’Œ MCP å·¥å…·

