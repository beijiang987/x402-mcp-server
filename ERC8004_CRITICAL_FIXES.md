# ERC-8004 é›†æˆ - é‡è¦ä¿®å¤è¯´æ˜

## ğŸš¨ è‡´å‘½é—®é¢˜ä¿®å¤ï¼ˆå·²å®Œæˆï¼‰

### 1. âœ… åˆçº¦åœ°å€å·²ä¿®å¤ä¸ºå®˜æ–¹çœŸå®åœ°å€

**é—®é¢˜**: ä¹‹å‰ä½¿ç”¨çš„åˆçº¦åœ°å€æ˜¯ç¼–é€ çš„ï¼ˆå‰ç¼€æ­£ç¡®ä½†ååŠæ®µé”™è¯¯ï¼‰

**ä¿®å¤åçš„å®˜æ–¹åœ°å€**:

#### Sepolia æµ‹è¯•ç½‘ï¼ˆå®˜æ–¹å·²éƒ¨ç½²ï¼‰
```
IdentityRegistry:   0x8004A818BFB912233c491871b3d84c89A494BD9e
ReputationRegistry: 0x8004B663056A597Dffe9eCcC1965A193B7388713
ValidationRegistry: å¾…è¡¥å……
```

#### ä»¥å¤ªåŠä¸»ç½‘ï¼ˆå®˜æ–¹å·²éƒ¨ç½²ï¼‰
```
IdentityRegistry:   0x8004A169FB4a3325136EB29fA0ceB6D2e539a432
ReputationRegistry: 0x8004BAa17C55a88189AE136b182e5fdA19dE9b63
ValidationRegistry: å¾…è¡¥å……
```

**æ¥æº**: [github.com/erc-8004/erc-8004-contracts](https://github.com/erc-8004/erc-8004-contracts)

**å½±å“**:
- âŒ ä¹‹å‰çš„åœ°å€ä¼šå¯¼è‡´æ‰€æœ‰é“¾ä¸Šäº¤äº’å¤±è´¥
- âœ… ç°åœ¨ä½¿ç”¨å®˜æ–¹åœ°å€ï¼Œå¯ä»¥æ­£å¸¸ä¸ ERC-8004 ç”Ÿæ€äº¤äº’

---

### 2. âœ… æ·»åŠ äº† Validation Registry æ”¯æŒ

**é—®é¢˜**: ERC-8004 æœ‰ä¸‰ä¸ªæ ¸å¿ƒæ³¨å†Œè¡¨ï¼Œä¹‹å‰åªå®ç°äº†ä¸¤ä¸ªï¼š
- âœ… Identity Registryï¼ˆèº«ä»½ï¼‰
- âœ… Reputation Registryï¼ˆå£°èª‰ï¼‰
- âŒ Validation Registryï¼ˆéªŒè¯ï¼‰- **ä¹‹å‰ç¼ºå¤±**

**ä¿®å¤**: å·²æ·»åŠ å®Œæ•´çš„ ValidationRegistry ABIï¼ŒåŒ…æ‹¬ï¼š
- `validationRequest()` - è¯·æ±‚éªŒè¯
- `validationResponse()` - æäº¤éªŒè¯ç»“æœ
- `getValidationStatus()` - è·å–éªŒè¯çŠ¶æ€
- äº‹ä»¶ç›‘å¬æ”¯æŒ

**å•†ä¸šä»·å€¼**:
- ğŸ’° éªŒè¯æœåŠ¡æ˜¯é‡è¦çš„æ”¶è´¹æœºä¼š
- ğŸ† æä¾› KYCã€å®‰å…¨å®¡è®¡ã€æ€§èƒ½éªŒè¯ç­‰å¢å€¼æœåŠ¡
- ğŸ¯ å»ºç«‹"åŸºç¡€è®¾æ–½æœåŠ¡å•†"çš„å®Œæ•´å®šä½

---

## âš ï¸ é«˜ä¼˜å…ˆçº§å¾…ä¿®å¤é—®é¢˜

### 3. ğŸ”„ x402 å®šä»·éœ€è¦ä» ETH æ”¹ä¸º USDC

**é—®é¢˜**:
- å½“å‰ä»£ç ä½¿ç”¨ ETH å®šä»·ï¼ˆå¦‚ 0.0001 ETHï¼‰
- x402 ç”Ÿæ€ä¸»è¦ä½¿ç”¨ USDC ä½œä¸ºæ”¯ä»˜èµ„äº§
- ä½¿ç”¨ ETH ä¼šå¯¼è‡´æ— æ³•ä¸å…¶ä»– agent é€šè¿‡æ ‡å‡† x402 æµç¨‹äº¤äº’

**éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶**:
```
src/pricing-config.ts
api/erc8004.ts
examples/erc8004-example.ts
æ‰€æœ‰æ–‡æ¡£ä¸­çš„ä»·æ ¼ç¤ºä¾‹
```

**ä¿®å¤æ–¹æ¡ˆ**:
```typescript
// âŒ é”™è¯¯ï¼ˆå½“å‰ï¼‰
pricing: {
  amount: '0.0001',
  currency: 'ETH'
}

// âœ… æ­£ç¡®ï¼ˆåº”è¯¥ï¼‰
pricing: {
  amount: '0.10',  // USDC çš„ 6 ä½å°æ•°
  currency: 'USDC',
  token: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48' // USDC on Ethereum
}
```

**å‚è€ƒ**: ä½¿ç”¨å®˜æ–¹ SDK
```bash
npm install @x402/core @x402/evm @x402/express
```

---

### 4. ğŸ” ç§é’¥ç®¡ç†éœ€è¦æ”¹è¿›

**é—®é¢˜**:
- å½“å‰ç›´æ¥åœ¨ `.env` ä¸­å­˜å‚¨æ˜æ–‡ç§é’¥
- å¯¹äºå¤„ç†æ”¯ä»˜çš„æœåŠ¡æ¥è¯´å­˜åœ¨å®‰å…¨é£é™©

**ä¸´æ—¶æ–¹æ¡ˆï¼ˆçŸ­æœŸï¼‰**:
- ä½¿ç”¨ä¸“ç”¨çš„ä½ä½™é¢æµ‹è¯•é’±åŒ…
- è®¾ç½®æ˜ç¡®çš„è­¦å‘Šæ–‡æ¡£
- æ·»åŠ é‡‘é¢é™åˆ¶å’Œç›‘æ§

**æ¨èæ–¹æ¡ˆï¼ˆä¸­é•¿æœŸï¼‰**:
- **Coinbase MPC Wallet**: æ— ç§é’¥çš„å®‰å…¨æ–¹æ¡ˆ
- **AWS KMS**: å¯†é’¥ç®¡ç†æœåŠ¡
- **Dynamic.xyz**: åµŒå…¥å¼é’±åŒ…è§£å†³æ–¹æ¡ˆ
- **ç¡¬ä»¶é’±åŒ…ç­¾å**: Ledger/Trezor é›†æˆ

---

### 5. ğŸ“‹ æ³¨å†Œæ–‡ä»¶æ ¼å¼éœ€è¦ç¬¦åˆå®˜æ–¹ Schema

**é—®é¢˜**: Agent æ³¨å†Œæ—¶çš„ `agentURI` å¿…é¡»æŒ‡å‘ç¬¦åˆ ERC-8004 è§„èŒƒçš„ JSON æ–‡ä»¶

**å®˜æ–¹è¦æ±‚çš„æ ¼å¼**:
```json
{
  "type": "https://eips.ethereum.org/EIPS/eip-8004#registration-v1",
  "name": "My Trading Agent",
  "description": "...",
  "services": [
    {
      "type": "A2A",
      "endpoint": "https://api.example.com/a2a",
      "authentication": {...}
    },
    {
      "type": "MCP",
      "endpoint": "https://api.example.com/mcp"
    },
    {
      "type": "OASF",
      "endpoint": "https://api.example.com/openapi.json"
    }
  ],
  "capabilities": [...],
  "pricing": {...}
}
```

**éœ€è¦ä¿®æ”¹**: `src/erc8004/erc8004-service.ts` ä¸­çš„æ³¨å†Œé€»è¾‘

---

### 6. ğŸŒ å¤šé“¾æ”¯æŒéœ€è¦å®Œå–„

**å½“å‰çŠ¶æ€**:
- âœ… Sepolia (æµ‹è¯•ç½‘)
- âœ… Mainnet (ä¸»ç½‘)
- âš ï¸ Base Sepolia (å¾…ç¡®è®¤åœ°å€)
- âš ï¸ Base Mainnet (å¾…ç¡®è®¤åœ°å€)
- âŒ Linea Sepolia (æœªæ”¯æŒ)
- âŒ å…¶ä»– 8 æ¡é“¾ (æœªæ”¯æŒ)

**å®˜æ–¹å·²éƒ¨ç½²çš„ç½‘ç»œ**:
æ ¹æ® [bitcoinethereumnews.com](https://bitcoinethereumnews.com/) çš„æŠ¥é“ï¼ŒERC-8004 å·²åœ¨ 8 æ¡é“¾ä¸Šéƒ¨ç½²

**éœ€è¦åš**:
1. å‘å®˜æ–¹ä»“åº“ç¡®è®¤æ‰€æœ‰ç½‘ç»œçš„åˆçº¦åœ°å€
2. æ›´æ–° `CONTRACT_ADDRESSES` é…ç½®
3. æµ‹è¯•å„ç½‘ç»œçš„è¿æ¥å’Œäº¤äº’

---

### 7. ğŸ”¢ å£°èª‰è¯„åˆ†é€»è¾‘éœ€è¦å¢å¼º

**å½“å‰é—®é¢˜**: è¯„åˆ†é€»è¾‘å¯èƒ½è¿‡äºç®€åŒ–

**ERC-8004 å®˜æ–¹è§„èŒƒçš„è¯„åˆ†ç³»ç»Ÿ**:
- ä½¿ç”¨ **int128** æœ‰ç¬¦å·æ•´æ•°ï¼ˆæ”¯æŒè´Ÿé¢è¯„åˆ†ï¼‰
- åŒ…å« **precision** (uint8, 0-18) ç²¾åº¦å­—æ®µ
- æ”¯æŒ **tag1**ã€**tag2** åˆ†é¢†åŸŸè¯„åˆ†
- æä¾› **dataURI** æŒ‡å‘è¯¦ç»†çš„é“¾ä¸‹åé¦ˆ JSON

**éœ€è¦å®ç°**:
```typescript
interface ReputationFeedback {
  agentId: bigint;
  value: bigint;      // int128 - å¯ä»¥æ˜¯è´Ÿæ•°
  precision: number;  // 0-18
  tag1: string;       // ä¾‹å¦‚ "code-quality"
  tag2: string;       // ä¾‹å¦‚ "response-time"
  dataURI: string;    // ipfs://... æˆ– https://...
  x402Proof?: string; // x402 æ”¯ä»˜è¯æ˜ï¼ŒåŠ æƒå¯ä¿¡åº¦
}
```

**å Sybil æ”»å‡»**:
- æ£€æŸ¥è¯„ä»·è€…è‡ªèº«çš„å£°èª‰åˆ†æ•°
- éªŒè¯ x402 æ”¯ä»˜è¯æ˜ï¼ˆä»˜è´¹è¯„ä»·æ›´å¯ä¿¡ï¼‰
- æ£€æµ‹å¼‚å¸¸è¯„åˆ†æ¨¡å¼

---

## ğŸ“š æ–‡æ¡£æ›´æ–°æ¸…å•

éœ€è¦æ›´æ–°ä»¥ä¸‹æ–‡æ¡£ä¸­çš„é”™è¯¯åœ°å€å’Œç¤ºä¾‹ï¼š

- [ ] `ERC8004_INTEGRATION_GUIDE.md`
- [ ] `ERC8004_QUICKSTART.md`
- [ ] `ERC8004_IMPLEMENTATION_SUMMARY.md`
- [ ] `README.md`
- [ ] `examples/erc8004-example.ts`
- [ ] æ‰€æœ‰ç¤ºä¾‹ä¸­çš„ ETH ä»·æ ¼æ”¹ä¸º USDC

---

## ğŸ¯ è¡ŒåŠ¨è®¡åˆ’ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰

### ğŸ”´ ç´§æ€¥ï¼ˆæœ¬å‘¨å†…ï¼‰
1. âœ… **ä¿®å¤åˆçº¦åœ°å€** - å·²å®Œæˆ
2. âœ… **æ·»åŠ  Validation Registry** - å·²å®Œæˆ
3. ğŸ”„ **ä¿®æ”¹ x402 å®šä»·ä¸º USDC** - è¿›è¡Œä¸­
4. ğŸ“ **æ›´æ–°æ‰€æœ‰æ–‡æ¡£ä¸­çš„åœ°å€** - å¾…å®Œæˆ

### ğŸŸ¡ é‡è¦ï¼ˆ2å‘¨å†…ï¼‰
5. ğŸ” **æ”¹è¿›ç§é’¥ç®¡ç†** - è‡³å°‘æ·»åŠ è­¦å‘Šå’Œé™åˆ¶
6. ğŸ“‹ **éªŒè¯æ³¨å†Œæ–‡ä»¶ schema** - ç¡®ä¿ç¬¦åˆå®˜æ–¹è§„èŒƒ
7. ğŸ”¢ **å¢å¼ºè¯„åˆ†é€»è¾‘** - å¤„ç† int128ã€tagã€Sybil è¿‡æ»¤

### ğŸŸ¢ å»ºè®®ï¼ˆ1æœˆå†…ï¼‰
8. ğŸŒ **å®Œå–„å¤šé“¾æ”¯æŒ** - æ·»åŠ  Base å’Œå…¶ä»–ç½‘ç»œ
9. ğŸ’¼ **æ³¨å†ŒæœåŠ¡æœ¬èº«ä¸º ERC-8004 agent** - å»ºç«‹ä¿¡ä»»
10. ğŸ” **é›†æˆå®˜æ–¹ The Graph Subgraph** - ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„æ•°æ®æº

---

## ğŸ“– å®˜æ–¹èµ„æºé“¾æ¥

- [ERC-8004 å®˜æ–¹ä»“åº“](https://github.com/erc-8004/erc-8004-contracts)
- [åˆçº¦éƒ¨ç½²åœ°å€](https://github.com/erc-8004/erc-8004-contracts#deployments)
- [EIP-8004 è§„èŒƒ](https://eips.ethereum.org/EIPS/eip-8004)
- [x402 å®˜æ–¹ SDK](https://github.com/coinbase/x402)
- [The Graph & Agent0 ERC-8004 Subgraph](https://thegraph.com/hosted-service/subgraph/agent0/erc8004)

---

## âš¡ å¿«é€ŸéªŒè¯æ¸…å•

åœ¨éƒ¨ç½²å‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] ä½¿ç”¨å®˜æ–¹åˆçº¦åœ°å€ï¼ˆSepolia å’Œ Mainnetï¼‰
- [ ] x402 æ”¯ä»˜ä½¿ç”¨ USDCï¼ˆä¸æ˜¯ ETHï¼‰
- [ ] æ³¨å†Œæ–‡ä»¶ç¬¦åˆå®˜æ–¹ schema
- [ ] å·²å®ç° Validation Registry åŠŸèƒ½
- [ ] ç§é’¥å®‰å…¨æªæ–½å·²åˆ°ä½
- [ ] å¤šé“¾æ”¯æŒå·²æµ‹è¯•
- [ ] å£°èª‰è¯„åˆ†å¤„ç† int128 å’Œ tags
- [ ] æ–‡æ¡£ä¸­çš„åœ°å€å·²å…¨éƒ¨æ›´æ–°

---

**ç”Ÿæˆæ—¶é—´**: 2026-02-06
**æœ€åæ›´æ–°**: åˆçº¦åœ°å€å’Œ Validation Registry å·²ä¿®å¤
**ä¸‹ä¸€æ­¥**: ä¿®æ”¹ x402 å®šä»·ä¸º USDC
